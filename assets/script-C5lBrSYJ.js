import{g as y,u as q,p as S,b as p}from"./getCartProductsFromLS-Cys89hF7.js";const g=(u,c,i)=>{const a=document.querySelector(`#card${c}`).querySelector(".quantity");let t=parseInt(a.getAttribute("data-quantity"))||1;return u.target.classList[0]==="increase"&&(t<i?t+=1:t===i&&(t=i)),u.target.classList[0]==="decrease"&&t>1&&(t-=1),a.textContent=t,a.setAttribute("data-quantity",t),t};y();const C=(u,c,i)=>{let r=y();const a=document.querySelector(`#card${c}`);let t=a.querySelector(".quantity").innerText,o=a.querySelector(".price").innerText;o=o.replace("₹",""),t=Number(t);let l=r.find(n=>n.id===c);if(l&&t>1){t=Number(l.quantity+t),o=Number(o*t);let n={id:c,quantity:t,price:o};n=r.map(e=>e.id===c?n:e),localStorage.setItem("cartProducts",JSON.stringify(n)),console.log(n)}if(l)return!1;o=o*t;let d={id:c,quantity:t,price:o};r.push(d),localStorage.setItem("cartProducts",JSON.stringify(r)),q(r)},f=document.querySelector("#productTemplate"),m=(u,c)=>{u&&u.forEach(i=>{const{id:r,name:a,category:t,price:o,actualPrice:l,stock:d,image:n}=i,e=document.importNode(f.content,!0);e.querySelector(".product-name").textContent=a,e.querySelector(".catagory").textContent=t,e.querySelector(".stock").textContent=d,e.querySelector(".price").textContent=` ₹ ${o}`,e.querySelector(".actualPrice").textContent=` ₹ ${l}`,e.querySelector("img").src=n,e.querySelector("img").alt=n,e.querySelector("#cardValue").setAttribute("id",`card${r}`),e.querySelector(".qtyElem").addEventListener("click",s=>{g(s,r,d)}),e.querySelector(".btn-cart").addEventListener("click",s=>{C(s,r),s.target.innerText="Product Added",setTimeout(()=>{s.target.innerText="Add to Cart"},1e3)}),c.append(e)})},b=document.querySelector(".trendProducts-container");m(S,b);const x=document.querySelector(".bestSellingBooksContainer");m(p,x);
